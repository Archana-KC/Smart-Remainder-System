<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Reminder System</title>
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #a0e7e5, rgb(233, 153, 233));
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .container {
      background: white;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      text-align: center;
      width: 100%;
      max-width: 700px;
    }

    h1 {
      margin-bottom: 1.5rem;
      font-size: 2rem;
      color: #333;
    }

    /* Inputs row */
    .task-input {
      display: flex;
      gap: 1rem;
      flex-wrap: nowrap;
      justify-content: center;
      align-items: center;
      margin-bottom: 1rem;
    }

    .task-input input[type="text"],
    .task-input select,
    .task-input input[type="date"],
    .task-input input[type="time"] {
      padding: 0.7rem 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
      min-width: 120px;
    }

    /* Button on its own row */
    .task-button {
      text-align: center;
      margin-bottom: 2rem;
    }

    .task-button button {
      background-color: #6c63ff;
      color: white;
      border: none;
      padding: 0.7rem 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
      min-width: 150px;
    }

    .task-button button:hover {
      background-color: #574b90;
    }

    /* Task List */
    #taskList {
      text-align: left;
      max-height: 300px;
      overflow-y: auto;
      padding: 1rem;
      border-top: 1px solid #ccc;
    }

    .task-item {
      padding: 0.7rem 1rem;
      margin-bottom: 0.8rem;
      border-radius: 8px;
      background-color: #f4f4f4;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .task-item.high {
      border-left: 6px solid #ff4d4d;
      background-color: #ffe6e6;
    }

    .task-item.medium {
      border-left: 6px solid #ffa500;
      background-color: #fff3e6;
    }

    .task-item.low {
      border-left: 6px solid #4caf50;
      background-color: #e6ffe6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Smart Reminder System using Priority Queue</h1>

    <div class="task-input">
      <input id="task" type="text" placeholder="Enter task..." />
      <select id="priority">
        <option value="Low">Low</option>
        <option value="Medium" selected>Medium</option>
        <option value="High">High</option>
      </select>
      <input id="date" type="date" />
      <input id="time" type="time" />
    </div>

    <div class="task-button">
      <button onclick="addTask()">Add Task</button>
    </div>

    <div id="taskList"></div>
  </div>

  <script>
    // Priority weights: High (3), Medium (2), Low (1)
    const priorityMap = {
      High: 3,
      Medium: 2,
      Low: 1
    };

    let taskQueue = [];

    function addTask() {
      const taskInput = document.getElementById("task").value.trim();
      const priority = document.getElementById("priority").value;
      const date = document.getElementById("date").value;
      const time = document.getElementById("time").value;

      if (!taskInput || !date || !time) {
        alert("Please fill all fields.");
        return;
      }

      const task = {
        description: taskInput,
        priority: priority,
        priorityValue: priorityMap[priority],
        date: date,
        time: time
      };

      taskQueue.push(task);

      // Sort by priorityValue (desc), then by date/time
      taskQueue.sort((a, b) => {
        if (b.priorityValue !== a.priorityValue) {
          return b.priorityValue - a.priorityValue;
        }
        const dateTimeA = new Date(`${a.date}T${a.time}`);
        const dateTimeB = new Date(`${b.date}T${b.time}`);
        return dateTimeA - dateTimeB;
      });

      displayTasks();
      clearForm();
    }

    function displayTasks() {
      const taskList = document.getElementById("taskList");
      taskList.innerHTML = "";

      taskQueue.forEach(task => {
        const div = document.createElement("div");
        div.className = `task-item ${task.priority.toLowerCase()}`;
        div.innerHTML = `
          <strong>${task.description}</strong><br>
          <small>Priority: ${task.priority} | Due: ${task.date} ${task.time}</small>
        `;
        taskList.appendChild(div);
      });
    }

    function clearForm() {
      document.getElementById("task").value = "";
      document.getElementById("priority").value = "Medium";
      document.getElementById("date").value = "";
      document.getElementById("time").value = "";
    }
  </script>
</body>
</html>
